<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="coloris.min.css" />
    <link rel="stylesheet" href="sidepanel.css" />
    <script src="coloris.min.js"></script>
  </head>
  <body class="is-sidebar">
    <div id="sidebar">
      <div class="sidebar-header"><h3>Joined Rooms</h3></div>
      <div id="room-list"></div>
    </div>

    <div id="main-content">
      <div id="terminal-header">
        <button id="menu-toggle-btn">&#9776;</button>
        <h2 id="current-room-title">/home</h2>
        <button id="members-toggle-btn" class="hidden" title="Membros da Sala">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
            <circle cx="9" cy="7" r="4"></circle>
            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
          </svg>
        </button>
      </div>
      <div id="terminal">
        <div id="chat-log"></div>

        <button
          id="scroll-to-bottom-btn"
          class="hidden"
          title="Rolar para o final"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M12 5v14"></path>
            <path d="m19 12-7 7-7-7"></path>
          </svg>
        </button>
        <div id="mention-suggestions" class="hidden"></div>

        <div id="reply-preview-bar">
          <button id="reply-cancel-btn" title="Cancelar Resposta">
            &times;
          </button>
          <div id="reply-preview-bar-content"></div>
        </div>
        <div id="prompt">
          <span class="prompt-symbol">></span>
          <input
            type="text"
            id="chat-input"
            placeholder="Type here..."
            autofocus
          />
        </div>
      </div>
    </div>

    <div id="members-sidebar">
      <div class="sidebar-header">
        <h3>Membros da Sala</h3>
        <button id="members-sidebar-close-btn" class="sidebar-close-btn">
          &times;
        </button>
      </div>
      <div id="member-list-container">
        <h4>Online</h4>
        <div id="online-members-list"></div>
        <h4>Offline</h4>
        <div id="offline-members-list"></div>
      </div>
    </div>

    <div id="rank-modal" class="hidden">
      <div class="modal-content">
        <span class="modal-close">&times;</span>
        <h2>Rank Customizer</h2>
        <div class="modal-tabs">
          <button id="create-tab-btn" class="tab-link active">Create New</button
          ><button id="browse-tab-btn" class="tab-link">Browse</button>
        </div>
        <div id="create-tab" class="tab-content">
          <h3>Create a New Rank</h3>
          <div class="form-group">
            <label for="rank-name-input">Rank Name (4 letters)</label
            ><input
              type="text"
              id="rank-name-input"
              maxlength="4"
              placeholder="MVP"
            />
          </div>
          <div class="form-group">
            <label for="rank-color-input">Rank Color</label
            ><input
              type="text"
              id="rank-color-input"
              data-coloris
              value="#FFFFFF"
              class="color-input"
            />
          </div>
          <div class="form-group-half">
            <div class="form-group">
              <label for="rank-outline-input">Outline Color</label
              ><input
                type="text"
                id="rank-outline-input"
                data-coloris
                value="#000000"
                class="color-input"
              />
            </div>
            <div class="form-group">
              <label for="rank-outline-width">Outline Size (px)</label>
              <div class="slider-group">
                <input
                  type="range"
                  id="rank-outline-width"
                  value="1"
                  min="0"
                  max="15"
                /><span id="rank-outline-width-value">1px</span>
              </div>
            </div>
          </div>
          <div class="form-group-half">
            <div class="form-group">
              <label for="rank-shine-input">Shine/Glow Color</label
              ><input
                type="text"
                id="rank-shine-input"
                data-coloris
                value="#000000"
                class="color-input"
              />
            </div>
            <div class="form-group checkbox-group">
              <input type="checkbox" id="rank-animate-shine" /><label
                for="rank-animate-shine"
                >Pulsing Shine?</label
              >
            </div>
          </div>
          <h4>Preview:</h4>
          <div id="rank-preview" class="message">
            <span class="nickname rank-preview-span">[RANK]</span
            ><span class="nick" id="rank-preview-nick"> YourName:</span
            ><span class="text"> Look at my new rank!</span>
          </div>
          <button id="save-rank-button">Save and Apply</button>
        </div>
        <div id="browse-tab" class="tab-content hidden">
          <h3>Browse Public Ranks</h3>
          <div id="rank-list"></div>
          <div id="pagination-controls">
            <button id="prev-page-btn">&lt; Prev</button
            ><span id="page-indicator">Page 1 / 1</span
            ><button id="next-page-btn">Next &gt;</button>
          </div>
        </div>
      </div>
    </div>

    <div id="profile-edit-modal" class="hidden">
      <div class="modal-content profile-edit-modal-content">
        <span class="modal-close" id="profile-edit-close-btn">&times;</span>
        <h2>Editar Perfil</h2>
        <div class="form-group">
          <label for="profile-pic-input">URL da Foto de Perfil</label>
          <input
            type="text"
            id="profile-pic-input"
            placeholder="https://i.imgur.com/..."
          />
        </div>
        <div class="form-group">
          <label for="profile-bio-input">Sua Bio (máx 150 caracteres)</label>
          <textarea
            id="profile-bio-input"
            rows="4"
            maxlength="150"
            placeholder="Sobre mim..."
          ></textarea>
        </div>
        <button id="profile-save-button">Salvar Perfil</button>
      </div>
    </div>

    <div id="profile-view-modal" class="hidden">
      <div class="modal-content profile-view-modal-content">
        <span class="modal-close" id="profile-view-close-btn">&times;</span>
        <div class="profile-header">
          <img id="profile-view-pic" src="" alt="Avatar" class="profile-pic" />
          <div class="profile-info">
            <h2 id="profile-view-name">Nickname</h2>
            <div id="profile-view-rank" class="message">
              <span class="nickname">[RANK]</span>
            </div>
          </div>
        </div>
        <div class="profile-body">
          <h3>Bio</h3>
          <p id="profile-view-bio">Este usuário ainda não escreveu uma bio.</p>
        </div>
        <button id="profile-dm-button" data-nickname="">Iniciar DM</button>
      </div>
    </div>

    <div id="profile-pic-modal" class="hidden">
      <div class="modal-overlay" id="profile-pic-modal-overlay">
        <div class="modal-pic-content">
          <span class="modal-close" id="profile-pic-modal-close-btn"
            >&times;</span
          >
          <img id="profile-pic-modal-img" src="" alt="Profile Picture" />
        </div>
      </div>
    </div>

    <div id="forward-modal" class="hidden">
      <div class="modal-content forward-modal-content">
        <span class="modal-close" id="forward-modal-close-btn">&times;</span>
        <h2>Encaminhar Para...</h2>
        <div class="form-group search-bar-group">
          <span class="search-icon">&#128269;</span>
          <input
            type="text"
            id="forward-search-input"
            placeholder="Pesquisar chats..."
          />
        </div>
        <div id="forward-room-list"></div>
      </div>
    </div>

    <script src="firebase-app-compat.js"></script>
    <script src="firebase-database-compat.js"></script>
    <script src="sidepanel.js"></script>
  </body>
</html>
